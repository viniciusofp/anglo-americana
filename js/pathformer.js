"use strict";function Pathformer(t){if("undefined"==typeof t)throw new Error('Pathformer [constructor]: "element" parameter is required');if(t.constructor===String&&(t=document.getElementById(t),!t))throw new Error('Pathformer [constructor]: "element" parameter is not related to an existing ID');if(!(t.constructor instanceof window.SVGElement||/^svg$/i.test(t.nodeName)))throw new Error('Pathformer [constructor]: "element" parameter must be a string or a SVGelement');this.el=t,this.scan(t)}Pathformer.prototype.TYPES=["line","ellipse","circle","polygon","polyline","rect"],Pathformer.prototype.ATTR_WATCH=["cx","cy","points","r","rx","ry","x","x1","x2","y","y1","y2"],Pathformer.prototype.scan=function(t){for(var r,e,o,a,n=t.querySelectorAll(this.TYPES.join(",")),i=0;i<n.length;i++)e=n[i],r=this[e.tagName.toLowerCase()+"ToPath"],o=r(this.parseAttr(e.attributes)),a=this.pathMaker(e,o),e.parentNode.replaceChild(a,e)},Pathformer.prototype.lineToPath=function(t){var r={},e=t.x1||0,o=t.y1||0,a=t.x2||0,n=t.y2||0;return r.d="M"+e+","+o+"L"+a+","+n,r},Pathformer.prototype.rectToPath=function(t){var r={},e=parseFloat(t.x)||0,o=parseFloat(t.y)||0,a=parseFloat(t.width)||0,n=parseFloat(t.height)||0;return r.d="M"+e+" "+o+" ",r.d+="L"+(e+a)+" "+o+" ",r.d+="L"+(e+a)+" "+(o+n)+" ",r.d+="L"+e+" "+(o+n)+" Z",r},Pathformer.prototype.polylineToPath=function(t){var r,e,o={},a=t.points.trim().split(" ");if(-1===t.points.indexOf(",")){var n=[];for(r=0;r<a.length;r+=2)n.push(a[r]+","+a[r+1]);a=n}for(e="M"+a[0],r=1;r<a.length;r++)-1!==a[r].indexOf(",")&&(e+="L"+a[r]);return o.d=e,o},Pathformer.prototype.polygonToPath=function(t){var r=Pathformer.prototype.polylineToPath(t);return r.d+="Z",r},Pathformer.prototype.ellipseToPath=function(t){var r={},e=parseFloat(t.rx)||0,o=parseFloat(t.ry)||0,a=parseFloat(t.cx)||0,n=parseFloat(t.cy)||0,i=a-e,p=n,s=parseFloat(a)+parseFloat(e),l=n;return r.d="M"+i+","+p+"A"+e+","+o+" 0,1,1 "+s+","+l+"A"+e+","+o+" 0,1,1 "+i+","+l,r},Pathformer.prototype.circleToPath=function(t){var r={},e=parseFloat(t.r)||0,o=parseFloat(t.cx)||0,a=parseFloat(t.cy)||0,n=o-e,i=a,p=parseFloat(o)+parseFloat(e),s=a;return r.d="M"+n+","+i+"A"+e+","+e+" 0,1,1 "+p+","+s+"A"+e+","+e+" 0,1,1 "+n+","+s,r},Pathformer.prototype.pathMaker=function(t,r){var e,o,a=document.createElementNS("http://www.w3.org/2000/svg","path");for(e=0;e<t.attributes.length;e++)o=t.attributes[e],-1===this.ATTR_WATCH.indexOf(o.name)&&a.setAttribute(o.name,o.value);for(e in r)a.setAttribute(e,r[e]);return a},Pathformer.prototype.parseAttr=function(t){for(var r,e={},o=0;o<t.length;o++){if(r=t[o],-1!==this.ATTR_WATCH.indexOf(r.name)&&-1!==r.value.indexOf("%"))throw new Error("Pathformer [parseAttr]: a SVG shape got values in percentage. This cannot be transformed into 'path' tags. Please use 'viewBox'.");e[r.name]=r.value}return e};